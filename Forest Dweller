#include <kipr/botball.h>
int l_motor = 3;
int r_motor = 0;
int pause = 1000;
int maxspd = 100;
int halfspd = 50;
int count = 0;
int lpause = 5000;
int main()
{
  shut_down_in(300);
  
  while(1){
    forward();
    if(count == 5){
      r_turn();
      count = 0;
    }
    	if(digital(0) || digital(9)){
      ao();
      m(pause);
      backward();
      msleep(pause);
      l_turn();
      msleep(pause);
      ao();
      msleep(pause);
      count++;
    }
    
  }
    return 0;
}


//funtion Definitions//
void forward(){
 motor(r_motor,halfspd);
 motor(l_motor,halfspd);
}

void backward(){
  motor(r_motor,-halfspd);
  motor(l_motor,-halfspd);
}

void l_turn(){
  motor(r_motor,-halfspd);
  motor(l_motor,halfspd);
}

void r_turn(){
  motor(r_motor,halfspd);
  motor(l_motor,-halfspd);
  msleep(lpause);
  ao();
}
